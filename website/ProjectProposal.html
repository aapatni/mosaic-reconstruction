<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol.lst-kix_cykj848c4ldi-3.start{counter-reset:lst-ctn-kix_cykj848c4ldi-3 0}.lst-kix_cykj848c4ldi-6>li{counter-increment:lst-ctn-kix_cykj848c4ldi-6}.lst-kix_566bsifqvbis-2>li{counter-increment:lst-ctn-kix_566bsifqvbis-2}ol.lst-kix_566bsifqvbis-1.start{counter-reset:lst-ctn-kix_566bsifqvbis-1 0}.lst-kix_566bsifqvbis-7>li{counter-increment:lst-ctn-kix_566bsifqvbis-7}ol.lst-kix_cykj848c4ldi-0.start{counter-reset:lst-ctn-kix_cykj848c4ldi-0 0}.lst-kix_cykj848c4ldi-0>li{counter-increment:lst-ctn-kix_cykj848c4ldi-0}ol.lst-kix_566bsifqvbis-4.start{counter-reset:lst-ctn-kix_566bsifqvbis-4 0}.lst-kix_566bsifqvbis-3>li{counter-increment:lst-ctn-kix_566bsifqvbis-3}.lst-kix_566bsifqvbis-0>li{counter-increment:lst-ctn-kix_566bsifqvbis-0}ol.lst-kix_566bsifqvbis-5.start{counter-reset:lst-ctn-kix_566bsifqvbis-5 0}ol.lst-kix_566bsifqvbis-2.start{counter-reset:lst-ctn-kix_566bsifqvbis-2 0}.lst-kix_cykj848c4ldi-6>li:before{content:"" counter(lst-ctn-kix_cykj848c4ldi-6,decimal) ". "}ol.lst-kix_cykj848c4ldi-7.start{counter-reset:lst-ctn-kix_cykj848c4ldi-7 0}.lst-kix_cykj848c4ldi-7>li:before{content:"" counter(lst-ctn-kix_cykj848c4ldi-7,lower-latin) ". "}.lst-kix_566bsifqvbis-8>li{counter-increment:lst-ctn-kix_566bsifqvbis-8}.lst-kix_cykj848c4ldi-8>li:before{content:"" counter(lst-ctn-kix_cykj848c4ldi-8,lower-roman) ". "}.lst-kix_cykj848c4ldi-2>li{counter-increment:lst-ctn-kix_cykj848c4ldi-2}ol.lst-kix_cykj848c4ldi-1.start{counter-reset:lst-ctn-kix_cykj848c4ldi-1 0}ol.lst-kix_cykj848c4ldi-4.start{counter-reset:lst-ctn-kix_cykj848c4ldi-4 0}ol.lst-kix_566bsifqvbis-8.start{counter-reset:lst-ctn-kix_566bsifqvbis-8 0}.lst-kix_cykj848c4ldi-5>li{counter-increment:lst-ctn-kix_cykj848c4ldi-5}.lst-kix_cykj848c4ldi-8>li{counter-increment:lst-ctn-kix_cykj848c4ldi-8}.lst-kix_cykj848c4ldi-3>li{counter-increment:lst-ctn-kix_cykj848c4ldi-3}ol.lst-kix_566bsifqvbis-6.start{counter-reset:lst-ctn-kix_566bsifqvbis-6 0}.lst-kix_566bsifqvbis-6>li:before{content:"" counter(lst-ctn-kix_566bsifqvbis-6,decimal) ". "}.lst-kix_566bsifqvbis-8>li:before{content:"" counter(lst-ctn-kix_566bsifqvbis-8,lower-roman) ". "}.lst-kix_cykj848c4ldi-0>li:before{content:"" counter(lst-ctn-kix_cykj848c4ldi-0,decimal) ". "}ol.lst-kix_cykj848c4ldi-8.start{counter-reset:lst-ctn-kix_cykj848c4ldi-8 0}.lst-kix_566bsifqvbis-7>li:before{content:"" counter(lst-ctn-kix_566bsifqvbis-7,lower-latin) ". "}.lst-kix_566bsifqvbis-5>li{counter-increment:lst-ctn-kix_566bsifqvbis-5}.lst-kix_566bsifqvbis-4>li:before{content:"" counter(lst-ctn-kix_566bsifqvbis-4,lower-latin) ". "}.lst-kix_566bsifqvbis-5>li:before{content:"" counter(lst-ctn-kix_566bsifqvbis-5,lower-roman) ". "}.lst-kix_cykj848c4ldi-5>li:before{content:"" counter(lst-ctn-kix_cykj848c4ldi-5,lower-roman) ". "}.lst-kix_566bsifqvbis-0>li:before{content:"" counter(lst-ctn-kix_566bsifqvbis-0,decimal) ". "}.lst-kix_cykj848c4ldi-3>li:before{content:"" counter(lst-ctn-kix_cykj848c4ldi-3,decimal) ". "}ol.lst-kix_566bsifqvbis-2{list-style-type:none}ol.lst-kix_566bsifqvbis-1{list-style-type:none}.lst-kix_cykj848c4ldi-4>li:before{content:"" counter(lst-ctn-kix_cykj848c4ldi-4,lower-latin) ". "}ol.lst-kix_566bsifqvbis-0{list-style-type:none}.lst-kix_cykj848c4ldi-1>li:before{content:"" counter(lst-ctn-kix_cykj848c4ldi-1,lower-latin) ". "}.lst-kix_566bsifqvbis-3>li:before{content:"" counter(lst-ctn-kix_566bsifqvbis-3,decimal) ". "}.lst-kix_566bsifqvbis-2>li:before{content:"" counter(lst-ctn-kix_566bsifqvbis-2,lower-roman) ". "}ol.lst-kix_cykj848c4ldi-5.start{counter-reset:lst-ctn-kix_cykj848c4ldi-5 0}.lst-kix_566bsifqvbis-1>li:before{content:"" counter(lst-ctn-kix_566bsifqvbis-1,lower-latin) ". "}.lst-kix_cykj848c4ldi-2>li:before{content:"" counter(lst-ctn-kix_cykj848c4ldi-2,lower-roman) ". "}.lst-kix_566bsifqvbis-6>li{counter-increment:lst-ctn-kix_566bsifqvbis-6}ol.lst-kix_566bsifqvbis-0.start{counter-reset:lst-ctn-kix_566bsifqvbis-0 0}ol.lst-kix_566bsifqvbis-7.start{counter-reset:lst-ctn-kix_566bsifqvbis-7 0}.lst-kix_cykj848c4ldi-7>li{counter-increment:lst-ctn-kix_cykj848c4ldi-7}ol.lst-kix_566bsifqvbis-6{list-style-type:none}ol.lst-kix_566bsifqvbis-5{list-style-type:none}ol.lst-kix_566bsifqvbis-4{list-style-type:none}.lst-kix_cykj848c4ldi-1>li{counter-increment:lst-ctn-kix_cykj848c4ldi-1}ol.lst-kix_566bsifqvbis-3{list-style-type:none}ol.lst-kix_cykj848c4ldi-2.start{counter-reset:lst-ctn-kix_cykj848c4ldi-2 0}.lst-kix_cykj848c4ldi-4>li{counter-increment:lst-ctn-kix_cykj848c4ldi-4}ol.lst-kix_566bsifqvbis-8{list-style-type:none}ol.lst-kix_566bsifqvbis-7{list-style-type:none}ol.lst-kix_cykj848c4ldi-0{list-style-type:none}ol.lst-kix_566bsifqvbis-3.start{counter-reset:lst-ctn-kix_566bsifqvbis-3 0}ol.lst-kix_cykj848c4ldi-1{list-style-type:none}ol.lst-kix_cykj848c4ldi-6.start{counter-reset:lst-ctn-kix_cykj848c4ldi-6 0}.lst-kix_566bsifqvbis-1>li{counter-increment:lst-ctn-kix_566bsifqvbis-1}ol.lst-kix_cykj848c4ldi-4{list-style-type:none}.lst-kix_566bsifqvbis-4>li{counter-increment:lst-ctn-kix_566bsifqvbis-4}ol.lst-kix_cykj848c4ldi-5{list-style-type:none}ol.lst-kix_cykj848c4ldi-2{list-style-type:none}ol.lst-kix_cykj848c4ldi-3{list-style-type:none}ol.lst-kix_cykj848c4ldi-8{list-style-type:none}ol.lst-kix_cykj848c4ldi-6{list-style-type:none}ol.lst-kix_cykj848c4ldi-7{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c5{-webkit-text-decoration-skip:none;color:#000000;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c3{-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:14pt;font-family:"Arial";font-style:normal}.c6{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c12{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c10{text-decoration-skip-ink:none;font-size:14pt;-webkit-text-decoration-skip:none;font-weight:700;text-decoration:underline}.c11{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c9{margin-left:36pt;padding-left:0pt}.c7{margin-left:108pt;padding-left:0pt}.c4{padding:0;margin:0}.c8{margin-left:72pt;padding-left:0pt}.c13{margin-left:36pt}.c2{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c11"><p class="c0"><span class="c3">Problem</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span>Panoramic image mosaicing is a very thoroughly studied field, however existing methods for creating spherical panoramas have limitations. They either have limitations because they take a long time to run or require special equipment to capture mosaic images. In our project we are trying to replicate a spherical panorama mosaic construction technique that can automatically construct a panorama from input image sequences. The goal of the model would be that the model can take in a continuous sequence of images taken at horizontal and vertical images and the model can output a spherical panorama representing the sequence of images. </span></p><p class="c0 c2"><span class="c5"></span></p><p class="c0 c2"><span class="c5"></span></p><p class="c0"><span class="c10">Approach </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">The method described in &ldquo;Spherical Panoramic Mosaics with Image Division and Warping Methods&rdquo; is rooted in estimating the transformation relationships between images. In order to reduce the accumulation of errors, it first mosaics the images vertically and then horizontally which requires a lot less computation than iteratively building the mosaic one image at a time. </span></p><p class="c0"><span class="c1">These are the steps required. </span></p><p class="c0 c2"><span class="c1"></span></p><ol class="c4 lst-kix_cykj848c4ldi-0 start" start="1"><li class="c0 c9"><span class="c6">Physical Setup</span></li></ol><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">We need to have a static camera setup and have images taken with some overlap, and must be taken in a grid like fashion, not randomly. There needs to be continuity between images taken so that proper spherical panorama can be constructed. The camera will be shifted to different horizontal angles. At each horizontal angle images will be taken along all the vertical angles before the vertical angle is shifted. So basically images are taken in columns. Each column is a group and the horizontal image (which is used in later calculations) for each group is the one most aligned with horizon. </span></p><p class="c0 c2"><span class="c1"></span></p><ol class="c4 lst-kix_cykj848c4ldi-0" start="2"><li class="c0 c9"><span class="c6">Pixel Transformations</span></li></ol><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span>We can represent every point in 3D space as a vector </span><img src="images/image1.png"><span>&nbsp;and the corresponding homogeneous image coordinates as </span><img src="images/image2.png"><span>. The relationship between these two can be defined as: </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 537.00px; height: 153.00px;"><img alt="" src="images/image9.png" style="width: 624.00px; height: 171.01px; margin-left: -87.00px; margin-top: -18.01px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c1">&nbsp;</span></p><p class="c0"><span>where T is a translation matrix, V is the focal length scaling matrix, and R is the rotation matrix. We assume the origin of the image is at the center so the translational matrix is obsolete. A simplified equation for </span><img src="images/image1.png"><span>&nbsp;would be </span><img src="images/image3.png"><span class="c1">. &nbsp;Furthermore we assume the focal length is the same (since the camera viewpoint is fixed), so this turns the rotational matrix into:</span></p><p class="c0 c13"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 120.00px;"><img alt="" src="images/image8.png" style="width: 624.00px; height: 120.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span>which encompases the parameters </span><span>&#x1d703; and</span><span>&nbsp;</span><span>&#x1d74b; which</span><span class="c1">&nbsp;must be calculated (these are the horizontal and vertical rotation angles). </span></p><p class="c0 c2"><span class="c1"></span></p><ol class="c4 lst-kix_cykj848c4ldi-0" start="3"><li class="c0 c9"><span class="c6">Estimating the focal length</span></li></ol><p class="c0 c2"><span class="c6"></span></p><p class="c0"><span class="c1">To estimate the values for the horizontal and vertical rotation angles between images we need to calculate the focal length. Based on this relation: </span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 570.00px; height: 308.00px;"><img alt="" src="images/image7.png" style="width: 624.00px; height: 328.99px; margin-left: -9.00px; margin-top: -20.99px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1">The focal length can be calculated to be :</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 60.00px;"><img alt="" src="images/image4.png" style="width: 624.00px; height: 60.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1">Where d is the translation distance between images calculated using the FFT-phase correlation algorithm. </span></p><p class="c0 c2"><span class="c1"></span></p><ol class="c4 lst-kix_cykj848c4ldi-0" start="4"><li class="c0 c9"><span class="c6">Estimating Transformation Matrices</span></li></ol><p class="c0 c2"><span class="c6"></span></p><ol class="c4 lst-kix_cykj848c4ldi-1 start" start="1"><li class="c0 c8"><span class="c1">To determine the angle that each photo was taken at, we will iterate over horizontally adjacent images using a recursive algorithm.</span></li><li class="c0 c8"><span class="c1">Each subsequent image angle will be calculated as: </span></li></ol><ol class="c4 lst-kix_cykj848c4ldi-2 start" start="1"><li class="c0 c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 198.00px; height: 100.00px;"><img alt="" src="images/image5.png" style="width: 198.00px; height: 100.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c4 lst-kix_cykj848c4ldi-1" start="3"><li class="c0 c8"><span class="c1">&theta; is the horizontal rotation angle and &eta; is the vertical rotation angle. &nbsp;</span></li><li class="c0 c8"><span class="c1">Where &Delta;w and &Delta;h are calculated using a FFT phase-correlation algorithm</span></li></ol><p class="c0 c2"><span class="c1"></span></p><ol class="c4 lst-kix_cykj848c4ldi-0" start="5"><li class="c0 c9"><span class="c6">Stitching</span></li></ol><p class="c0 c2"><span class="c1"></span></p><ol class="c4 lst-kix_cykj848c4ldi-1" start="5"><li class="c0 c8"><span class="c1">First stitch into vertical sub sections using this algorithm:</span></li></ol><ol class="c4 lst-kix_cykj848c4ldi-2 start" start="1"><li class="c0 c7"><span class="c1">Compute real world coordinates of each pixel using the transformations defined above</span></li><li class="c0 c7"><span class="c1">Compare spherical coordinates of each pixel with every rotation angle of the input images and select closest one</span></li><li class="c0 c7"><span>Project the xyz coordinates onto the new selected image and use the </span><span>pixel value to shade the vertical sub-image</span></li><li class="c0 c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 254.40px; height: 253.55px;"><img alt="" src="images/image6.png" style="width: 254.40px; height: 253.55px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c4 lst-kix_cykj848c4ldi-1" start="6"><li class="c0 c8"><span class="c1">Stitch together multiple vertical sub-sections using a multi-resolution pyramid algorithm</span></li></ol><p class="c0 c2"><span class="c5"></span></p><p class="c0 c2"><span class="c5"></span></p><p class="c0"><span class="c3">Experiments and results</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">In order to test our implementation, we will take several sets of images as described in step 1. These images will be taken both using a stand and by hand, so that we can examine the effects of an imperfect set of images on the output of the algorithm. We will use images from different scenarios, such as a street, a park, and inside a building, so that we can examine the behavior of the algorithm based on the amount of objects present in the vicinity. </span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">To evaluate the output of the algorithm, we will visually inspect the resulting spherical mosaic to ensure that it is locally continuous and that there are no artefacts, such as an object being cut in half or being distorted. </span></p></body></html>